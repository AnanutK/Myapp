<!--
  Generated template for the CheckInStdPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title><p style="color:white;font-weight: normal;font-size: 20px">
            เช็คชื่อเข้าชั้นเรียน
      </p> </ion-title>
    </ion-navbar>
  
  </ion-header>
  
  
  <ion-content padding>
      <ion-card>
          <ion-list>
              <ion-card>
                      <ion-item>
                          <ion-label style="font-size: 17px" >เลือกวัน</ion-label>
                          <ion-datetime displayFormat="DD-MMMM-YYYY" [(ngModel)]="myDate" (ionChange)="onDateChange($event)" ></ion-datetime>
                            </ion-item>
              </ion-card>
              <ion-card>
                  <ion-item>
                          <ion-label style="font-size: 17px" >เลือกวิชา</ion-label>
                          <ion-select [(ngModel)]="subjectShow" (ionChange)='onSubChange($event)' id="subjectSelect">
                            <ion-option *ngFor= "let sub_data of subject" [value]="sub_data.spc_course_subject_id">{{sub_data.spc_subject_name_TH}}</ion-option>                   
                          </ion-select>
                        </ion-item>  
              </ion-card>
              <ion-card>
                  <ion-item>
                          <ion-label style="font-size: 17px" >เลือกเวลา</ion-label>
                          <ion-select [(ngModel)]="timeShow" (ionChange)='onTimeChange($event)'>
                            <ion-option *ngFor= "let time_data of time" [value]="time_data.spc_time_table_id">{{time_data.spc_time_table_begin}}</ion-option>                   
                          </ion-select>
                        </ion-item>  
              </ion-card>   
          </ion-list>
      </ion-card>  
      <ion-list>
      <ion-card *ngFor= "let std_data of stdRegist" >            
              <ion-item-sliding >
                  <ion-item  >
                      <ion-label style="text-align: left;font-size: 15px">{{std_data.spc_prefix_nameTH}}{{std_data.spc_student_tname}}    {{std_data.spc_student_tsurname}} </ion-label>                                                
                  </ion-item>
                  <ion-item-options side="right" *ngFor="let chk_data of checkinData">
                        <button ion-button *ngIf= "!(std_data.spc_regist_id == chk_data.spc_checkin_regist_id && std_data.spc_time_table_id == chk_data.spc_checkin_time_table && std_data.spc_student_id == chk_data.spc_checkin_student_id && chk_data.spc_checkin_date == date2) " (click)  = checkin(std_data.spc_regist_id,std_data.spc_student_id,std_data.spc_time_table_id)>
                          <ion-icon name="add-circle" ></ion-icon>
                        </button>
                        <button ion-button *ngIf= "std_data.spc_regist_id == chk_data.spc_checkin_regist_id && std_data.spc_time_table_id == chk_data.spc_checkin_time_table && std_data.spc_student_id == chk_data.spc_checkin_student_id && chk_data.spc_checkin_date == date2 " color="secondary" >
                            <ion-icon name="checkmark-circle" ></ion-icon>
                          </button>
                   </ion-item-options> 
                </ion-item-sliding>                    
     </ion-card> 
    </ion-list> 
  </ion-content>
  
  